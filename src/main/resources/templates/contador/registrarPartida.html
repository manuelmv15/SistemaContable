<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8" />
  <title>Registrar partidas</title>
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"
    rel="stylesheet"
  />
  <link rel="stylesheet" href="/css/registrar-partida.css" />
  <link rel="icon" href="/icons/dashboard.png" sizes="96x96" />
</head>

<body class="bg-light" style="overflow: hidden">

  <div class="row g-0">
    <div class="row min-vh-100 min-vw-100" style="padding: 0; margin: 0">
      <div th:replace="contador/fragments/sidebar :: sidebar"></div>

      <main class="col p-4 overflow-auto" style="max-height: 100vh">
        <div class="container-fluid">
          <form class="entry-form">

            <!-- Información de partida -->
            <div class="form-section">
              <h2 class="text-center">Información de partida</h2>

              <div class="form-grid">
                <div class="form-group span-2">
                  <label for="fecha_partida">Ingrese la fecha</label>
                  <input type="date" id="fecha_partida" required />
                </div>

                <div class="form-group span-2">
                  <label for="descripcion_partida">Descripción o concepto</label>
                  <textarea id="descripcion_partida" rows="3" required></textarea>
                </div>
              </div>
            </div>

            <!-- DETALLE -->
            <div class="form-section row">

              <!-- DEBE -->
              <div id="contenedorDebe" class="entry-item col">

                <div class="entry-header">
                  <h3>Debe</h3>
                  <button type="button" id="agregarCuentaDebe" class="add-btn">Agregar Cuenta</button>
                </div>

                <div class="account-entries">

                  <!-- Fila inicial corregida -->
                  <div class="account-row">
                    <div class="form-group">
                      <label>Cuenta</label>
                      <select class="select-cuenta"></select>
                    </div>

                    <div class="form-group">
                      <label>Monto</label>
                      <input type="number" step="0.01" class="monto" placeholder="0.00" />
                    </div>

                    <button type="button" class="remove-btn">x</button>
                  </div>

                </div>
              </div>

              <!-- HABER -->
              <div id="contenedorHaber" class="entry-item col">

                <div class="entry-header">
                  <h3>Haber</h3>
                  <button type="button" id="agregarCuentaHaber" class="add-btn">Agregar Cuenta</button>
                </div>

                <div class="account-entries">

                  <!-- Fila inicial corregida -->
                  <div class="account-row">
                    <div class="form-group">
                      <label>Cuenta</label>
                      <select class="select-cuenta"></select>
                    </div>

                    <div class="form-group">
                      <label>Monto</label>
                      <input type="number" step="0.01" class="monto" placeholder="0.00" />
                    </div>

                    <button type="button" class="remove-btn">x</button>
                  </div>

                </div>
              </div>

            </div>

            <!-- TOTALES -->
            <div class="form-section">
              <div class="balance-summary">
                <div class="balance-item">
                  <span>Total Debe:</span>
                  <span class="amount" id="totalDebe">$0.00</span>
                </div>

                <div class="balance-item">
                  <span>Total Haber:</span>
                  <span class="amount" id="totalHaber">$0.00</span>
                </div>

                <div class="balance-item balance-difference">
                  <span>Diferencia:</span>
                  <span id="diferencia" class="amount">$0.00</span>
                </div>
              </div>
            </div>

            <!-- ACCIONES -->
            <div class="form-actions">
              <button type="button" id="cancelar" class="cancel-btn">Cancelar</button>
              <button type="submit" class="submit-btn" id="btnTotales">Registrar Partida</button>
            </div>

          </form>
        </div>
      </main>
    </div>
  </div>

  <script src="/js/registrarPartida.js"></script>
</body>
</html>
